{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{CircularProgress}from'@material-ui/core';import{tickerService,errorMessageService}from'../../../services/generic-service';import'./basic-info.scss';import*as Consts from'../../../shared/constants';var BasicInfo=/*#__PURE__*/function(_React$Component){_inherits(BasicInfo,_React$Component);var _super=_createSuper(BasicInfo);function BasicInfo(props){var _this;_classCallCheck(this,BasicInfo);_this=_super.call(this,props);_this.state={isLoading:false,ticker:'',showInfo:false,companyInfo:{name:'',ipoDate:'',exchange:'',marketCap:0,shareOutstanding:0,logoUrl:'',companyWebUrl:'',industry:''}};_this.props=props;return _this;}_createClass(BasicInfo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.tickerSubscription=tickerService.getTicker().subscribe(function(ticker){if(ticker){_this2.setState({ticker:ticker});_this2.getBasicInfo(ticker);}else{_this2.setState({ticker:''});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.tickerSubscription.unsubscribe();}},{key:\"getBasicInfo\",value:function getBasicInfo(ticker){var _this3=this;errorMessageService.changeErrorMessage('');this.setState({isLoading:true});var apiParams={symbol:ticker,token:Consts.token};var paramsArray=[];for(var prop in apiParams){paramsArray.push(\"\".concat(prop,\"=\").concat(apiParams[prop]));}var getBasicInfoUrl=Consts.getBasicInfoUrl+paramsArray.join('&');fetch(getBasicInfoUrl,{method:'GET'}).then(function(response){if(!response.ok){throw new Error(\"HTTP status \"+response.status);}return response.json();}).then(function(data){if(data&&(Object.keys(data).length!==0||data.constructor!==Object)){_this3.setState({companyInfo:_objectSpread(_objectSpread({},_this3.state.companyInfo),{},{name:data.name,ipoDate:data.ipo,exchange:data.exchange,marketCap:data.marketCapitalization,shareOutstanding:data.shareOutstanding,logoUrl:data.logo,companyWebUrl:data.weburl,industry:data.finnhubIndustry})});_this3.setState({showInfo:true});}else{errorMessageService.changeErrorMessage(\"API returned 'NO DATA' for \".concat(ticker));_this3.setState({showInfo:false});}_this3.setState({isLoading:false});}).catch(function(error){return _this3.setState({error:error});});}},{key:\"render\",value:function render(){var subComponent;if(this.state.isLoading===true){subComponent=/*#__PURE__*/React.createElement(\"div\",{className:\"loader-wrapper\"},/*#__PURE__*/React.createElement(CircularProgress,null));}else if(this.state.showInfo){subComponent=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,this.state.ticker),/*#__PURE__*/React.createElement(\"p\",null,this.state.companyInfo.name),/*#__PURE__*/React.createElement(\"a\",{href:this.state.companyInfo.companyWebUrl},/*#__PURE__*/React.createElement(\"img\",{src:this.state.companyInfo.logoUrl,alt:\"Company Logo\"})),/*#__PURE__*/React.createElement(\"p\",null,\"IPO Date: \",this.state.companyInfo.ipoDate),/*#__PURE__*/React.createElement(\"p\",null,\"Exchange: \",this.state.companyInfo.exchange),/*#__PURE__*/React.createElement(\"p\",null,\"Market Cap: \",this.state.companyInfo.marketCap),/*#__PURE__*/React.createElement(\"p\",null,\"Share Outstanding: \",this.state.companyInfo.shareOutstanding),/*#__PURE__*/React.createElement(\"p\",null,\"Industry: \",this.state.companyInfo.industry));}return/*#__PURE__*/React.createElement(\"div\",null,subComponent);}}]);return BasicInfo;}(React.Component);;export default BasicInfo;","map":{"version":3,"sources":["C:/Users/Danny/Documents/GitHub/ark-funds-monitor/src/components/stock-details/basic-info/basic-info.js"],"names":["React","CircularProgress","tickerService","errorMessageService","Consts","BasicInfo","props","state","isLoading","ticker","showInfo","companyInfo","name","ipoDate","exchange","marketCap","shareOutstanding","logoUrl","companyWebUrl","industry","tickerSubscription","getTicker","subscribe","setState","getBasicInfo","unsubscribe","changeErrorMessage","apiParams","symbol","token","paramsArray","prop","push","getBasicInfoUrl","join","fetch","method","then","response","ok","Error","status","json","data","Object","keys","length","constructor","ipo","marketCapitalization","logo","weburl","finnhubIndustry","catch","error","subComponent","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nimport { tickerService, errorMessageService } from '../../../services/generic-service';\r\nimport './basic-info.scss';\r\nimport * as Consts from '../../../shared/constants';\r\n\r\nclass BasicInfo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: false,\r\n            ticker: '',\r\n            showInfo: false,\r\n            companyInfo: {\r\n                name: '',\r\n                ipoDate: '',\r\n                exchange: '',\r\n                marketCap: 0,\r\n                shareOutstanding: 0,\r\n                logoUrl: '',\r\n                companyWebUrl: '',\r\n                industry: ''\r\n            }\r\n        };\r\n        this.props = props;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tickerSubscription = tickerService.getTicker().subscribe(ticker => {\r\n            if (ticker) {\r\n                this.setState({ ticker: ticker });\r\n                this.getBasicInfo(ticker);\r\n            } else {\r\n                this.setState({ ticker: '' });\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.tickerSubscription.unsubscribe();\r\n    }\r\n\r\n    getBasicInfo(ticker) {\r\n        errorMessageService.changeErrorMessage('');\r\n        this.setState({ isLoading: true });\r\n\r\n        const apiParams = {\r\n            symbol: ticker,\r\n            token: Consts.token\r\n        };\r\n\r\n        let paramsArray = [];\r\n        for (let prop in apiParams) {\r\n            paramsArray.push(`${prop}=${apiParams[prop]}`);\r\n        }\r\n        let getBasicInfoUrl = Consts.getBasicInfoUrl + paramsArray.join('&');\r\n\r\n        fetch(getBasicInfoUrl, {\r\n            method: 'GET'\r\n        })\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"HTTP status \" + response.status);\r\n                }\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                if (data && (Object.keys(data).length !== 0 || data.constructor !== Object)) {\r\n                    this.setState({\r\n                        companyInfo: {\r\n                            ...this.state.companyInfo,\r\n                            name: data.name,\r\n                            ipoDate: data.ipo,\r\n                            exchange: data.exchange,\r\n                            marketCap: data.marketCapitalization,\r\n                            shareOutstanding: data.shareOutstanding,\r\n                            logoUrl: data.logo,\r\n                            companyWebUrl: data.weburl,\r\n                            industry: data.finnhubIndustry,\r\n                        }\r\n                    });\r\n                    this.setState({ showInfo: true });\r\n                } else {\r\n                    errorMessageService.changeErrorMessage(`API returned 'NO DATA' for ${ticker}`);\r\n                    this.setState({ showInfo: false });\r\n                }\r\n                this.setState({ isLoading: false });\r\n            })\r\n            .catch(error => this.setState({ error }));\r\n    }\r\n\r\n    render() {\r\n        let subComponent;\r\n        if (this.state.isLoading === true) {\r\n            subComponent =\r\n                <div className='loader-wrapper'>\r\n                    <CircularProgress />\r\n                </div>\r\n        } else if (this.state.showInfo) {\r\n            subComponent =\r\n                <div>\r\n                    <p>{this.state.ticker}</p>\r\n                    <p>{this.state.companyInfo.name}</p>\r\n                    <a href={this.state.companyInfo.companyWebUrl}>\r\n                        <img src={this.state.companyInfo.logoUrl} alt=\"Company Logo\"></img>\r\n                    </a>\r\n                    <p>IPO Date: {this.state.companyInfo.ipoDate}</p>\r\n                    <p>Exchange: {this.state.companyInfo.exchange}</p>\r\n                    <p>Market Cap: {this.state.companyInfo.marketCap}</p>\r\n                    <p>Share Outstanding: {this.state.companyInfo.shareOutstanding}</p>\r\n                    <p>Industry: {this.state.companyInfo.industry}</p>\r\n                </div>\r\n        }\r\n        return (\r\n            <div>\r\n                {subComponent}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default BasicInfo;\r\n"]},"metadata":{},"sourceType":"module"}