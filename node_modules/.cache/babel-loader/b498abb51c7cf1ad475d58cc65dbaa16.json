{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{AgGridReact}from'ag-grid-react';import'ag-grid-community/dist/styles/ag-grid.css';import'ag-grid-community/dist/styles/ag-theme-alpine.css';import*as _ from'lodash';import{Grid}from'@material-ui/core';import'./data-grid.scss';import{tickerService}from'../../services/generic-service';var rawData=require('../../rawData/mergedData.json');// eslint-disable-next-line\nArray.prototype.swapElements=function(a,b){this[a]=this.splice(b,1,this[a])[0];return this;};var DataGrid=/*#__PURE__*/function(_React$Component){_inherits(DataGrid,_React$Component);var _super=_createSuper(DataGrid);function DataGrid(props){var _this;_classCallCheck(this,DataGrid);_this=_super.call(this,props);_this.state={width:window.innerWidth,height:window.innerHeight};_this.updateWindowDimensions=_this.updateWindowDimensions.bind(_assertThisInitialized(_this));return _this;}_createClass(DataGrid,[{key:\"getColumnDefs\",value:function getColumnDefs(rawData){var _this2=this;var columnDefs=[];var columnNamesInOrder=Object.keys(this.massageRawData(rawData)[0]).swapElements(0,1);// eslint-disable-next-line\ncolumnNamesInOrder.map(function(x){var genericColDef={field:x};var specificColDef={};switch(x){case'Date':specificColDef={width:_this2.state.width/12,minWidth:120};break;case'Direction':case'CUSIP':case'Shares':case'% Of ETF':case'Ticker':specificColDef={width:_this2.state.width/12,minWidth:100};break;case'FUND':specificColDef={width:_this2.state.width/12,minWidth:90};break;case'Name':specificColDef={width:_this2.state.width/4};break;default:specificColDef={width:_this2.state.width/8,minWidth:100};break;}columnDefs.push(Object.assign(genericColDef,specificColDef));});return columnDefs;}},{key:\"massageRawData\",value:function massageRawData(rawData){var tempData=_.cloneDeep(rawData);// remove empty property\n// eslint-disable-next-line\ntempData.map(function(x){for(var key in x){if(key===''){delete x[key];}}});return tempData;}},{key:\"componentDidMount\",value:function componentDidMount(){this.updateWindowDimensions();window.addEventListener('resize',this.updateWindowDimensions);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('resize',this.updateWindowDimensions);}},{key:\"updateWindowDimensions\",value:function updateWindowDimensions(){this.setState({width:window.innerWidth,height:window.innerHeight});}},{key:\"onRowClicked\",value:function onRowClicked(e){if(e&&e.data&&e.data.Ticker){tickerService.changeTicker(e.data.Ticker);}}},{key:\"render\",value:function render(){var dataGridDef={defaultColDef:{resizable:true,sortable:true,filter:'agTextColumnFilter',floatingFilter:true},columnDefs:this.getColumnDefs(rawData),rowData:this.massageRawData(rawData),paginationPageSize:20};return/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,className:['ag-theme-alpine','center'].join(' ')},/*#__PURE__*/React.createElement(AgGridReact,{rowData:dataGridDef.rowData,columnDefs:dataGridDef.columnDefs,defaultColDef:dataGridDef.defaultColDef// paginationAutoPageSize={true}\n,paginationPageSize:dataGridDef.paginationPageSize,pagination:true,onRowClicked:this.onRowClicked.bind(this)})));}}]);return DataGrid;}(React.Component);;export default DataGrid;","map":{"version":3,"sources":["C:/Users/Danny/Documents/GitHub/ark-funds-monitor/src/components/data-grid/data-grid.js"],"names":["React","AgGridReact","_","Grid","tickerService","rawData","require","Array","prototype","swapElements","a","b","splice","DataGrid","props","state","width","window","innerWidth","height","innerHeight","updateWindowDimensions","bind","columnDefs","columnNamesInOrder","Object","keys","massageRawData","map","x","genericColDef","field","specificColDef","minWidth","push","assign","tempData","cloneDeep","key","addEventListener","removeEventListener","setState","e","data","Ticker","changeTicker","dataGridDef","defaultColDef","resizable","sortable","filter","floatingFilter","getColumnDefs","rowData","paginationPageSize","join","onRowClicked","Component"],"mappings":"03BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,MAAO,2CAAP,CACA,MAAO,mDAAP,CACA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,QAAnB,CACA,OAASC,IAAT,KAAqB,mBAArB,CAEA,MAAO,kBAAP,CACA,OAASC,aAAT,KAA8B,gCAA9B,CAEA,GAAIC,CAAAA,OAAO,CAAGC,OAAO,CAAC,+BAAD,CAArB,CAEA;AACAC,KAAK,CAACC,SAAN,CAAgBC,YAAhB,CAA+B,SAAUC,CAAV,CAAaC,CAAb,CAAgB,CAC3C,KAAKD,CAAL,EAAU,KAAKE,MAAL,CAAYD,CAAZ,CAAe,CAAf,CAAkB,KAAKD,CAAL,CAAlB,EAA2B,CAA3B,CAAV,CACA,MAAO,KAAP,CACH,CAHD,C,GAKMG,CAAAA,Q,gHACF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAEC,MAAM,CAACC,UADL,CAETC,MAAM,CAAEF,MAAM,CAACG,WAFN,CAAb,CAIA,MAAKC,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BC,IAA5B,+BAA9B,CANe,aAOlB,C,yEAEajB,O,CAAS,iBACnB,GAAMkB,CAAAA,UAAU,CAAG,EAAnB,CACA,GAAMC,CAAAA,kBAAkB,CAAGC,MAAM,CAACC,IAAP,CAAY,KAAKC,cAAL,CAAoBtB,OAApB,EAA6B,CAA7B,CAAZ,EAA6CI,YAA7C,CAA0D,CAA1D,CAA6D,CAA7D,CAA3B,CACA;AACAe,kBAAkB,CAACI,GAAnB,CAAuB,SAAAC,CAAC,CAAI,CACxB,GAAIC,CAAAA,aAAa,CAAG,CAChBC,KAAK,CAAEF,CADS,CAApB,CAGA,GAAIG,CAAAA,cAAc,CAAG,EAArB,CACA,OAAQH,CAAR,EACI,IAAK,MAAL,CACIG,cAAc,CAAG,CACbhB,KAAK,CAAE,MAAI,CAACD,KAAL,CAAWC,KAAX,CAAmB,EADb,CAEbiB,QAAQ,CAAE,GAFG,CAAjB,CAIA,MACJ,IAAK,WAAL,CACA,IAAK,OAAL,CACA,IAAK,QAAL,CACA,IAAK,UAAL,CACA,IAAK,QAAL,CACID,cAAc,CAAG,CACbhB,KAAK,CAAE,MAAI,CAACD,KAAL,CAAWC,KAAX,CAAmB,EADb,CAEbiB,QAAQ,CAAE,GAFG,CAAjB,CAIA,MACJ,IAAK,MAAL,CACID,cAAc,CAAG,CACbhB,KAAK,CAAE,MAAI,CAACD,KAAL,CAAWC,KAAX,CAAmB,EADb,CAEbiB,QAAQ,CAAE,EAFG,CAAjB,CAIA,MACJ,IAAK,MAAL,CACID,cAAc,CAAG,CACbhB,KAAK,CAAE,MAAI,CAACD,KAAL,CAAWC,KAAX,CAAmB,CADb,CAAjB,CAGA,MACJ,QACIgB,cAAc,CAAG,CACbhB,KAAK,CAAE,MAAI,CAACD,KAAL,CAAWC,KAAX,CAAmB,CADb,CAEbiB,QAAQ,CAAE,GAFG,CAAjB,CAIA,MAjCR,CAmCAV,UAAU,CAACW,IAAX,CAAgBT,MAAM,CAACU,MAAP,CAAcL,aAAd,CAA6BE,cAA7B,CAAhB,EACH,CAzCD,EA0CA,MAAOT,CAAAA,UAAP,CACH,C,sDAEclB,O,CAAS,CACpB,GAAI+B,CAAAA,QAAQ,CAAGlC,CAAC,CAACmC,SAAF,CAAYhC,OAAZ,CAAf,CACA;AACA;AACA+B,QAAQ,CAACR,GAAT,CAAa,SAAAC,CAAC,CAAI,CACd,IAAK,GAAIS,CAAAA,GAAT,GAAgBT,CAAAA,CAAhB,CAAmB,CACf,GAAIS,GAAG,GAAK,EAAZ,CAAgB,CACZ,MAAOT,CAAAA,CAAC,CAACS,GAAD,CAAR,CACH,CACJ,CACJ,CAND,EAOA,MAAOF,CAAAA,QAAP,CACH,C,6DAEmB,CAChB,KAAKf,sBAAL,GACAJ,MAAM,CAACsB,gBAAP,CAAwB,QAAxB,CAAkC,KAAKlB,sBAAvC,EACH,C,mEAEsB,CACnBJ,MAAM,CAACuB,mBAAP,CAA2B,QAA3B,CAAqC,KAAKnB,sBAA1C,EACH,C,uEAEwB,CACrB,KAAKoB,QAAL,CAAc,CAAEzB,KAAK,CAAEC,MAAM,CAACC,UAAhB,CAA4BC,MAAM,CAAEF,MAAM,CAACG,WAA3C,CAAd,EACH,C,kDAEYsB,C,CAAG,CACZ,GAAIA,CAAC,EAAIA,CAAC,CAACC,IAAP,EAAeD,CAAC,CAACC,IAAF,CAAOC,MAA1B,CAAkC,CAC9BxC,aAAa,CAACyC,YAAd,CAA2BH,CAAC,CAACC,IAAF,CAAOC,MAAlC,EACH,CACJ,C,uCAEQ,CACL,GAAME,CAAAA,WAAW,CAAG,CAChBC,aAAa,CAAE,CACXC,SAAS,CAAE,IADA,CAEXC,QAAQ,CAAE,IAFC,CAGXC,MAAM,CAAE,oBAHG,CAIXC,cAAc,CAAE,IAJL,CADC,CAOhB5B,UAAU,CAAE,KAAK6B,aAAL,CAAmB/C,OAAnB,CAPI,CAQhBgD,OAAO,CAAE,KAAK1B,cAAL,CAAoBtB,OAApB,CARO,CAShBiD,kBAAkB,CAAE,EATJ,CAApB,CAWA,mBACI,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,QAAxB,CAAiC,UAAU,CAAC,QAA5C,eACI,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,SAAS,CAAE,CAAC,iBAAD,CAAoB,QAApB,EAA8BC,IAA9B,CAAmC,GAAnC,CAA9B,eACI,oBAAC,WAAD,EACI,OAAO,CAAET,WAAW,CAACO,OADzB,CAEI,UAAU,CAAEP,WAAW,CAACvB,UAF5B,CAGI,aAAa,CAAEuB,WAAW,CAACC,aAC3B;AAJJ,CAKI,kBAAkB,CAAED,WAAW,CAACQ,kBALpC,CAMI,UAAU,CAAE,IANhB,CAOI,YAAY,CAAE,KAAKE,YAAL,CAAkBlC,IAAlB,CAAuB,IAAvB,CAPlB,EADJ,CADJ,CADJ,CAgBH,C,sBAxHkBtB,KAAK,CAACyD,S,EAyH5B,CAED,cAAe5C,CAAAA,QAAf","sourcesContent":["import React from 'react';\r\nimport { AgGridReact } from 'ag-grid-react';\r\nimport 'ag-grid-community/dist/styles/ag-grid.css';\r\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\r\nimport * as _ from 'lodash';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nimport './data-grid.scss';\r\nimport { tickerService } from '../../services/generic-service'\r\n\r\nlet rawData = require('../../rawData/mergedData.json');\r\n\r\n// eslint-disable-next-line\r\nArray.prototype.swapElements = function (a, b) {\r\n    this[a] = this.splice(b, 1, this[a])[0];\r\n    return this;\r\n}\r\n\r\nclass DataGrid extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n        };\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n    }\r\n\r\n    getColumnDefs(rawData) {\r\n        const columnDefs = [];\r\n        const columnNamesInOrder = Object.keys(this.massageRawData(rawData)[0]).swapElements(0, 1);\r\n        // eslint-disable-next-line\r\n        columnNamesInOrder.map(x => {\r\n            let genericColDef = {\r\n                field: x,\r\n            };\r\n            let specificColDef = {};\r\n            switch (x) {\r\n                case 'Date':\r\n                    specificColDef = {\r\n                        width: this.state.width / 12,\r\n                        minWidth: 120,\r\n                    }\r\n                    break\r\n                case 'Direction':\r\n                case 'CUSIP':\r\n                case 'Shares':\r\n                case '% Of ETF':\r\n                case 'Ticker':\r\n                    specificColDef = {\r\n                        width: this.state.width / 12,\r\n                        minWidth: 100,\r\n                    }\r\n                    break\r\n                case 'FUND':\r\n                    specificColDef = {\r\n                        width: this.state.width / 12,\r\n                        minWidth: 90,\r\n                    }\r\n                    break\r\n                case 'Name':\r\n                    specificColDef = {\r\n                        width: this.state.width / 4,\r\n                    }\r\n                    break\r\n                default:\r\n                    specificColDef = {\r\n                        width: this.state.width / 8,\r\n                        minWidth: 100,\r\n                    };\r\n                    break;\r\n            }\r\n            columnDefs.push(Object.assign(genericColDef, specificColDef));\r\n        })\r\n        return columnDefs;\r\n    }\r\n\r\n    massageRawData(rawData) {\r\n        let tempData = _.cloneDeep(rawData);\r\n        // remove empty property\r\n        // eslint-disable-next-line\r\n        tempData.map(x => {\r\n            for (let key in x) {\r\n                if (key === '') {\r\n                    delete x[key];\r\n                }\r\n            }\r\n        })\r\n        return tempData;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    updateWindowDimensions() {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n    }\r\n\r\n    onRowClicked(e) {\r\n        if (e && e.data && e.data.Ticker) {\r\n            tickerService.changeTicker(e.data.Ticker);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const dataGridDef = {\r\n            defaultColDef: {\r\n                resizable: true,\r\n                sortable: true,\r\n                filter: 'agTextColumnFilter',\r\n                floatingFilter: true\r\n            },\r\n            columnDefs: this.getColumnDefs(rawData),\r\n            rowData: this.massageRawData(rawData),\r\n            paginationPageSize: 20\r\n        }\r\n        return (\r\n            <Grid container justify=\"center\" alignItems=\"center\">\r\n                <Grid item xs={12} className={['ag-theme-alpine', 'center'].join(' ')}>\r\n                    <AgGridReact\r\n                        rowData={dataGridDef.rowData}\r\n                        columnDefs={dataGridDef.columnDefs}\r\n                        defaultColDef={dataGridDef.defaultColDef}\r\n                        // paginationAutoPageSize={true}\r\n                        paginationPageSize={dataGridDef.paginationPageSize}\r\n                        pagination={true}\r\n                        onRowClicked={this.onRowClicked.bind(this)}\r\n                    >\r\n                    </AgGridReact>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n};\r\n\r\nexport default DataGrid;"]},"metadata":{},"sourceType":"module"}