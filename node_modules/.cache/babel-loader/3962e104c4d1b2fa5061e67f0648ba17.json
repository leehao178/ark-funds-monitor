{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Danny\\\\Documents\\\\GitHub\\\\ark-funds-monitor\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Accordion,Grid,AccordionDetails,AccordionSummary,Typography,MenuItem,FormControl,Select,Button}from'@material-ui/core';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import Alert from'@material-ui/lab/Alert';import packageJson from'../package.json';import'./layout.scss';import{tickerService,daysRangeService,errorMessageService}from'./services/generic-service';import Header from'./components/header/header';import MostActiveStocksTabs from'./components/most-active-stocks-tabs/most-active-stocks-tabs';import DataGrid from'./components/data-grid/data-grid';import StockDetails from'./components/stock-details/stock-details';var arkData=require('./rawData/mergedData.json');var Layout=/*#__PURE__*/function(_React$Component){_inherits(Layout,_React$Component);var _super=_createSuper(Layout);function Layout(props){var _this;_classCallCheck(this,Layout);_this=_super.call(this,props);_this.state={expanded:['most-active-stock-panel'],mostActiveDaysRange:7,errorMessage:'',isInputing:false};_this.handlePanelChange=_this.handlePanelChange.bind(_assertThisInitialized(_this));_this.handleClickDaysRange=_this.handleClickDaysRange.bind(_assertThisInitialized(_this));_this.handleSelectDaysRange=_this.handleSelectDaysRange.bind(_assertThisInitialized(_this));_this.handleDonationSectionClick=_this.handleDonationSectionClick.bind(_assertThisInitialized(_this));_this.coffeeEmoji=React.createRef();return _this;}_createClass(Layout,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.tickerSubscription=tickerService.getTicker().subscribe(function(ticker){if(ticker){// expand stock details section if it is closed\nvar panelArr=_this2.state.expanded;if(panelArr.indexOf('stock-details-panel')===-1){panelArr.push('stock-details-panel');}_this2.setState({expanded:panelArr});}else{_this2.setState({ticker:''});}});this.mostActiveDaysRangeSubscription=daysRangeService.getMostActiveDaysRange().subscribe(function(mostActiveDaysRange){if(mostActiveDaysRange){_this2.setState({mostActiveDaysRange:mostActiveDaysRange});}else{_this2.setState({mostActiveDaysRange:30});}});this.errorMessageSubscription=errorMessageService.getErrorMessage().subscribe(function(message){if(message){_this2.setState({errorMessage:message});}else{_this2.setState({errorMessage:''});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.tickerSubscription.unsubscribe();this.mostActiveDaysRangeSubscription.unsubscribe();this.errorMessageSubscription.unsubscribe();}},{key:\"handlePanelChange\",value:function handlePanelChange(panel){var _this3=this;return function(event,isExpanded){var panelArr=_this3.state.expanded;if(isExpanded){panelArr.push(panel);}else{var index=panelArr.indexOf(panel);if(index>-1){panelArr.splice(index,1);}}_this3.setState({expanded:panelArr});};}},{key:\"handleClickDaysRange\",value:function handleClickDaysRange(event){event.stopPropagation();}},{key:\"handleSelectDaysRange\",value:function handleSelectDaysRange(event,type){switch(type){case'mostActive':daysRangeService.changeMostActiveDaysRange(event.target.value);break;default:break;}}},{key:\"handleDonationSectionClick\",value:function handleDonationSectionClick(){console.log(this.coffeeEmoji);this.coffeeEmoji.current.click();}},{key:\"render\",value:function render(){var _this4=this;var notificationBar;if(this.state.errorMessage){notificationBar=/*#__PURE__*/React.createElement(Alert,{variant:\"filled\",severity:\"error\",onClose:function onClose(){_this4.setState({errorMessage:''});}},this.state.errorMessage);}else{notificationBar=/*#__PURE__*/React.createElement(\"div\",null);}return/*#__PURE__*/React.createElement(\"div\",{className:\"layout-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header-wrapper\"},/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"notification-bar-wrapper\"},notificationBar),/*#__PURE__*/React.createElement(\"div\",{className:\"accordion-wrapper\"},/*#__PURE__*/React.createElement(Accordion,{expanded:this.state.expanded.includes('most-active-stock-panel'),onChange:this.handlePanelChange('most-active-stock-panel')},/*#__PURE__*/React.createElement(AccordionSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"most-active-stock-panel-content\",id:\"most-active-stock-panel-header\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:5,md:4},/*#__PURE__*/React.createElement(Typography,{className:\"accordion-heading\"},\"Most Active Stocks\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:7,md:4,className:\"second-heading-wrapper\"},/*#__PURE__*/React.createElement(Typography,{className:\"accordion-second-heading\",component:'span'},\"Top 10 Most Active Stocks in\",/*#__PURE__*/React.createElement(FormControl,{className:\"days-dropdown\"},/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-placeholder-label-label\",id:\"demo-simple-select-placeholder-label\",value:this.state.mostActiveDaysRange,onClick:function onClick(e){return _this4.handleClickDaysRange(e);},onChange:function onChange(e){return _this4.handleSelectDaysRange(e,'mostActive');},MenuProps:{disableScrollLock:true}},/*#__PURE__*/React.createElement(MenuItem,{value:1},\"1 Day\"),/*#__PURE__*/React.createElement(MenuItem,{value:7},\"1 Week\"),/*#__PURE__*/React.createElement(MenuItem,{value:14},\"2 Weeks\"),/*#__PURE__*/React.createElement(MenuItem,{value:30},\"1 Month\"),/*#__PURE__*/React.createElement(MenuItem,{value:60},\"2 Months\"),/*#__PURE__*/React.createElement(MenuItem,{value:10000},\"From 11/12/2019\")))))),/*#__PURE__*/React.createElement(AccordionDetails,null,/*#__PURE__*/React.createElement(\"div\",{className:\"most-active-stocks-tabs-wrapper\"},/*#__PURE__*/React.createElement(MostActiveStocksTabs,null)))),/*#__PURE__*/React.createElement(Accordion,{expanded:this.state.expanded.includes('stock-details-panel'),onChange:this.handlePanelChange('stock-details-panel')},/*#__PURE__*/React.createElement(AccordionSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"stock-details-panel-content\",id:\"stock-details-panel-header\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:5,md:4},/*#__PURE__*/React.createElement(Typography,{className:\"accordion-heading\"},\"Stock Details\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:7,md:4,className:\"second-heading-wrapper\"})),/*#__PURE__*/React.createElement(AccordionDetails,null,/*#__PURE__*/React.createElement(\"div\",{className:\"stock-details-wrapper\"},/*#__PURE__*/React.createElement(StockDetails,null)))),/*#__PURE__*/React.createElement(Accordion,{expanded:this.state.expanded.includes('data-grid-panel'),onChange:this.handlePanelChange('data-grid-panel')},/*#__PURE__*/React.createElement(AccordionSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"data-grid-panel-content\",id:\"data-grid-panel-header\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:5,md:4},/*#__PURE__*/React.createElement(Typography,{className:\"accordion-heading\"},\"Transactions Table\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:7,md:4,className:\"second-heading-wrapper\"},/*#__PURE__*/React.createElement(Typography,{className:\"accordion-second-heading\"},\"All ARK Transactions\"))),/*#__PURE__*/React.createElement(AccordionDetails,null,/*#__PURE__*/React.createElement(DataGrid,null)))),/*#__PURE__*/React.createElement(Grid,{container:true,className:\"sticky-footer\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:3,md:3},/*#__PURE__*/React.createElement(\"p\",{className:\"disclaimer\"},\"Disclaimer: This web is built for education only.\",/*#__PURE__*/React.createElement(\"br\",null),\"The author takes no responsibility for financial decisions.\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,md:6,className:\"donation-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"donation\",onClick:this.handleDonationSectionClick},/*#__PURE__*/React.createElement(\"form\",{action:\"https://www.paypal.com/donate\",method:\"post\",target:\"_top\"},/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",name:\"cmd\",value:\"_donations\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",name:\"business\",value:\"xzhu@wpi.edu\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",name:\"currency_code\",value:\"USD\"}),/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"contained\",color:\"primary\",className:\"emoji-submit-button\",type:\"submit\",ref:this.coffeeEmoji},/*#__PURE__*/React.createElement(\"span\",{name:\"submit\",role:\"img\",\"aria-label\":\"coffee\"},\"Like this? \",/*#__PURE__*/React.createElement(\"br\",null),\"Pls buy me a coffee~\\u2615\")),/*#__PURE__*/React.createElement(\"img\",{alt:\"\",border:\"0\",src:\"https://www.paypal.com/en_US/i/scr/pixel.gif\",width:\"1\",height:\"1\"})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:3,md:3,className:\"additonal-info-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info-container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"info-version\"},\"Version: \",packageJson.version),/*#__PURE__*/React.createElement(\"p\",{className:\"info-update-date\"},\"Latest ARK Data: \",arkData[0]['Date'])))));}}]);return Layout;}(React.Component);export default Layout;","map":{"version":3,"sources":["C:/Users/Danny/Documents/GitHub/ark-funds-monitor/src/layout.js"],"names":["React","Accordion","Grid","AccordionDetails","AccordionSummary","Typography","MenuItem","FormControl","Select","Button","ExpandMoreIcon","Alert","packageJson","tickerService","daysRangeService","errorMessageService","Header","MostActiveStocksTabs","DataGrid","StockDetails","arkData","require","Layout","props","state","expanded","mostActiveDaysRange","errorMessage","isInputing","handlePanelChange","bind","handleClickDaysRange","handleSelectDaysRange","handleDonationSectionClick","coffeeEmoji","createRef","tickerSubscription","getTicker","subscribe","ticker","panelArr","indexOf","push","setState","mostActiveDaysRangeSubscription","getMostActiveDaysRange","errorMessageSubscription","getErrorMessage","message","unsubscribe","panel","event","isExpanded","index","splice","stopPropagation","type","changeMostActiveDaysRange","target","value","console","log","current","click","notificationBar","includes","e","disableScrollLock","version","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n    Accordion, Grid, AccordionDetails, AccordionSummary,\r\n    Typography, MenuItem, FormControl, Select, Button\r\n} from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport packageJson from '../package.json';\r\nimport './layout.scss';\r\nimport { tickerService, daysRangeService, errorMessageService } from './services/generic-service';\r\nimport Header from './components/header/header';\r\nimport MostActiveStocksTabs from './components/most-active-stocks-tabs/most-active-stocks-tabs';\r\nimport DataGrid from './components/data-grid/data-grid';\r\nimport StockDetails from './components/stock-details/stock-details';\r\n\r\nlet arkData = require('./rawData/mergedData.json');\r\n\r\nclass Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: ['most-active-stock-panel'],\r\n            mostActiveDaysRange: 7,\r\n            errorMessage: '',\r\n            isInputing: false\r\n        };\r\n\r\n        this.handlePanelChange = this.handlePanelChange.bind(this);\r\n        this.handleClickDaysRange = this.handleClickDaysRange.bind(this);\r\n        this.handleSelectDaysRange = this.handleSelectDaysRange.bind(this);\r\n        this.handleDonationSectionClick = this.handleDonationSectionClick.bind(this);\r\n\r\n        this.coffeeEmoji = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tickerSubscription = tickerService.getTicker().subscribe(ticker => {\r\n            if (ticker) {\r\n                // expand stock details section if it is closed\r\n                const panelArr = this.state.expanded;\r\n                if (panelArr.indexOf('stock-details-panel') === -1) {\r\n                    panelArr.push('stock-details-panel');\r\n                }\r\n                this.setState({ expanded: panelArr });\r\n\r\n            } else {\r\n                this.setState({ ticker: '' });\r\n            }\r\n        });\r\n\r\n        this.mostActiveDaysRangeSubscription = daysRangeService.getMostActiveDaysRange().subscribe(mostActiveDaysRange => {\r\n            if (mostActiveDaysRange) {\r\n                this.setState({ mostActiveDaysRange: mostActiveDaysRange });\r\n            } else {\r\n                this.setState({ mostActiveDaysRange: 30 });\r\n            }\r\n        });\r\n\r\n        this.errorMessageSubscription = errorMessageService.getErrorMessage().subscribe(message => {\r\n            if (message) {\r\n                this.setState({ errorMessage: message });\r\n            } else {\r\n                this.setState({ errorMessage: '' });\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.tickerSubscription.unsubscribe();\r\n        this.mostActiveDaysRangeSubscription.unsubscribe();\r\n        this.errorMessageSubscription.unsubscribe();\r\n    }\r\n\r\n    handlePanelChange(panel) {\r\n        return (event, isExpanded) => {\r\n            const panelArr = this.state.expanded;\r\n            if (isExpanded) {\r\n                panelArr.push(panel)\r\n            } else {\r\n                const index = panelArr.indexOf(panel);\r\n                if (index > -1) {\r\n                    panelArr.splice(index, 1);\r\n                }\r\n            }\r\n            this.setState({ expanded: panelArr });\r\n        }\r\n    };\r\n\r\n    handleClickDaysRange(event) {\r\n        event.stopPropagation();\r\n    }\r\n\r\n    handleSelectDaysRange(event, type) {\r\n        switch (type) {\r\n            case 'mostActive':\r\n                daysRangeService.changeMostActiveDaysRange(event.target.value);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleDonationSectionClick() {\r\n        console.log(this.coffeeEmoji)\r\n        this.coffeeEmoji.current.click();\r\n    }\r\n\r\n    render() {\r\n        let notificationBar;\r\n        if (this.state.errorMessage) {\r\n            notificationBar = <Alert variant=\"filled\" severity=\"error\" onClose={() => { this.setState({ errorMessage: '' }) }}>{this.state.errorMessage}</Alert>\r\n        } else {\r\n            notificationBar = <div></div>\r\n        }\r\n        return (\r\n            <div className=\"layout-wrapper\">\r\n                <div className=\"header-wrapper\">\r\n                    <Header />\r\n                </div>\r\n                <div className=\"notification-bar-wrapper\">\r\n                    {notificationBar}\r\n                </div>\r\n                <div className=\"accordion-wrapper\">\r\n                    <Accordion expanded={this.state.expanded.includes('most-active-stock-panel')} onChange={this.handlePanelChange('most-active-stock-panel')}>\r\n                        <AccordionSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                            aria-controls=\"most-active-stock-panel-content\"\r\n                            id=\"most-active-stock-panel-header\">\r\n\r\n                            <Grid item xs={5} md={4}>\r\n                                <Typography className=\"accordion-heading\">Most Active Stocks</Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={7} md={4} className=\"second-heading-wrapper\">\r\n                                <Typography className=\"accordion-second-heading\" component={'span'}>\r\n                                    Top 10 Most Active Stocks in\r\n                                <FormControl className=\"days-dropdown\">\r\n                                        <Select\r\n                                            labelId=\"demo-simple-select-placeholder-label-label\"\r\n                                            id=\"demo-simple-select-placeholder-label\"\r\n                                            value={this.state.mostActiveDaysRange}\r\n                                            onClick={(e) => this.handleClickDaysRange(e)}\r\n                                            onChange={(e) => this.handleSelectDaysRange(e, 'mostActive')}\r\n                                            MenuProps={{ disableScrollLock: true }}\r\n                                        >\r\n                                            <MenuItem value={1}>1 Day</MenuItem>\r\n                                            <MenuItem value={7}>1 Week</MenuItem>\r\n                                            <MenuItem value={14}>2 Weeks</MenuItem>\r\n                                            <MenuItem value={30}>1 Month</MenuItem>\r\n                                            <MenuItem value={60}>2 Months</MenuItem>\r\n                                            <MenuItem value={10000}>From 11/12/2019</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                        </AccordionSummary>\r\n\r\n                        <AccordionDetails>\r\n                            <div className=\"most-active-stocks-tabs-wrapper\">\r\n                                <MostActiveStocksTabs />\r\n                            </div>\r\n                        </AccordionDetails>\r\n\r\n                    </Accordion>\r\n\r\n                    <Accordion expanded={this.state.expanded.includes('stock-details-panel')} onChange={this.handlePanelChange('stock-details-panel')}>\r\n                        <AccordionSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                            aria-controls=\"stock-details-panel-content\"\r\n                            id=\"stock-details-panel-header\">\r\n\r\n                            <Grid item xs={5} md={4}>\r\n                                <Typography className=\"accordion-heading\">Stock Details</Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={7} md={4} className=\"second-heading-wrapper\">\r\n                                {/* <Typography className=\"accordion-second-heading\" component={'span'}>\r\n                                Chart with ARK Trade History</Typography> */}\r\n                            </Grid>\r\n\r\n                        </AccordionSummary>\r\n\r\n                        <AccordionDetails>\r\n                            <div className=\"stock-details-wrapper\">\r\n                                <StockDetails />\r\n                            </div>\r\n                        </AccordionDetails>\r\n\r\n                    </Accordion>\r\n\r\n                    <Accordion expanded={this.state.expanded.includes('data-grid-panel')} onChange={this.handlePanelChange('data-grid-panel')}>\r\n                        <AccordionSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                            aria-controls=\"data-grid-panel-content\"\r\n                            id=\"data-grid-panel-header\">\r\n\r\n                            <Grid item xs={5} md={4}>\r\n                                <Typography className=\"accordion-heading\">Transactions Table</Typography>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={7} md={4} className=\"second-heading-wrapper\">\r\n                                <Typography className=\"accordion-second-heading\">All ARK Transactions</Typography>\r\n                            </Grid>\r\n\r\n                        </AccordionSummary>\r\n\r\n                        <AccordionDetails>\r\n                            <DataGrid />\r\n                        </AccordionDetails>\r\n\r\n                    </Accordion>\r\n\r\n                </div>\r\n\r\n                <Grid container className=\"sticky-footer\">\r\n\r\n                    <Grid item xs={3} md={3}>\r\n                        <p className=\"disclaimer\">Disclaimer: This web is built for education only.<br></br>The author takes no responsibility for financial decisions.</p>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={6} md={6} className=\"donation-section\">\r\n                        <div className=\"donation\" onClick={this.handleDonationSectionClick}>\r\n                            <form action=\"https://www.paypal.com/donate\" method=\"post\" target=\"_top\">\r\n                                <input type=\"hidden\" name=\"cmd\" value=\"_donations\" />\r\n                                <input type=\"hidden\" name=\"business\" value=\"xzhu@wpi.edu\" />\r\n                                <input type=\"hidden\" name=\"currency_code\" value=\"USD\" />\r\n                                <Button size=\"small\" variant=\"contained\" color=\"primary\" className=\"emoji-submit-button\" type=\"submit\" ref={this.coffeeEmoji}>\r\n                                    <span name=\"submit\" role=\"img\" aria-label=\"coffee\">Like this? <br></br>Pls buy me a coffee~☕</span>\r\n                                </Button>\r\n                                <img alt=\"\" border=\"0\" src=\"https://www.paypal.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\" />\r\n                            </form>\r\n                        </div>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={3} md={3} className=\"additonal-info-section\">\r\n                        <div className='info-container'>\r\n                            <p className='info-version'>Version: {packageJson.version}</p>\r\n                            <p className='info-update-date'>Latest ARK Data: {arkData[0]['Date']}</p>\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Layout;\r\n"]},"metadata":{},"sourceType":"module"}